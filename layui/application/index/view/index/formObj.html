<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>表单</title>
  <link rel="stylesheet" href="__STATIC__/layui/css/layui.css">
</head>

<body>

  <div style="margin: 30px;"></div>

  <form class="layui-form" action="" lay-filter="formTest">

    <div class="layui-form-item">
      <label class="layui-form-label">用户名</label>
      <div class="layui-input-block">
        <input type="text" name="username" autocomplete="off" placeholder="请输入标题" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">密码</label>
      <div class="layui-input-block">
        <input type="password" name="password" autocomplete="off" placeholder="请输入密码" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item">
      <div class="layui-inline">
        <label class="layui-form-label">手机</label>
        <div class="layui-input-inline">
          <input type="tel" name="phone" autocomplete="off" class="layui-input">
        </div>
      </div>
      <div class="layui-inline">
        <label class="layui-form-label">验证邮箱</label>
        <div class="layui-input-inline">
          <input type="text" name="email" autocomplete="off" class="layui-input">
        </div>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">籍贯</label>
      <div class="layui-input-block">
        <select name="jiguan" lay-filter="jiguan" id="jiguan">
          <option value=""></option>
          <option value="0">武汉</option>
          <option value="1">上海</option>
          <option value="2">北京</option>
        </select>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">单选框</label>
      <div class="layui-input-block">
        <input type="radio" name="sex" value="男" title="男" checked="" lay-filter="sex">
        <input type="radio" name="sex" value="女" title="女" lay-filter="sex">
        <input type="radio" name="sex" value="禁" title="禁用" disabled="" lay-filter="sex">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">爱好</label>
      <div class="layui-input-block">
        <input type="checkbox" name="hobby[1]" title="写作" lay-filter="hobby">
        <input type="checkbox" name="hobby[2]" title="阅读" checked="" lay-filter="hobby">
        <input type="checkbox" name="hobby[3]" title="游戏" lay-filter="hobby">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">是否在职</label>
      <div class="layui-input-block">
        <input type="checkbox" checked="" name="isHere" lay-skin="switch" lay-filter="isHere" lay-text="是|否">
      </div>
    </div>

    <div class="layui-form-item">
      <div class="layui-input-block">
        <button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        <button type="button" class="layui-btn layui-btn-primary" id="btn1">向select中添加一個</button>
        <button type="button" class="layui-btn layui-btn-primary" id="btn2">初始化表单</button>
      </div>
    </div>

  </form>


  <!-- 单独引入jQuery -->
  <script src="__JS__/jquery.min.js"></script>

  <script src="__STATIC__/layui/layui.all.js"></script>

  <script>



    var form = layui.form;

    //监听提交事件
    form.on('submit(demo1)', function (data) {
      console.log(data.elem) //被执行事件的元素DOM对象，一般为button对象
      console.log(data.form) //被执行提交的form对象，一般在存在form标签时才会返回
      console.log(data.field) //当前容器的全部表单字段，名值对形式：{name: value}

      //使用ajax提交
      // $.post()


      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
    });

    //监听下拉框改变事件
    form.on('select(jiguan)', function (data) {
      console.log(data.elem); //得到select原始DOM对象
      console.log(data.value); //得到被选中的值
      console.log(data.othis); //得到美化后的DOM对象
    });

    //监听复选框改变事件
    form.on('checkbox(hobby)', function (data) {
      console.log(data.elem); //得到checkbox原始DOM对象
      console.log(data.elem.checked); //是否被选中，true或者false
      console.log(data.value); //复选框value值，也可以通过data.elem.value得到
      console.log(data.othis); //得到美化后的DOM对象
    });

    //监听开关改变事件
    form.on('switch(isHere)', function (data) {
      console.log(data.elem); //得到checkbox原始DOM对象
      console.log(data.elem.checked); //开关是否开启，true或者false
      console.log(data.value); //开关value值，也可以通过data.elem.value得到
      console.log(data.othis); //得到美化后的DOM对象
    });

    //监听单选框选中事件
    form.on('radio(sex)', function (data) {
      console.log(data.elem); //得到radio原始DOM对象
      console.log(data.value); //被点击的radio的value值
    });

    //更新渲染
    $("#btn1").click(function () {

      //得到select对象
      var jg = $("#jiguan");

      jg.append("<option value='深圳'>深圳");

      form.render('select'); //刷新select选择框渲染
    })


    //初始化表单
    $("#btn2").click(function () {

      form.val("formTest", { //formTest 即 class="layui-form" 所在元素属性 lay-filter="" 对应的值
        "username": "贤心" // "name": "value"
        ,"password":"123"
        ,"phone":"15137234309"
        ,"email":"395951280@qq.com"
        ,"jiguan":2
        , "sex": "女"
        , "hobby[1]":true 
        , "hobby[2]":true 
        , "hobby[3]":true 
        , "isHere": true
        
      });


    });




  </script>

</body>

</html>